<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<document type="com.apple.InterfaceBuilder3.CocoaTouch.Storyboard.XIB" version="3.0" toolsVersion="5053" systemVersion="13C64" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" initialViewController="vXZ-lx-hvc">
    <dependencies>
        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="3733"/>
    </dependencies>
    <scenes>
        <!--View Controller-->
        <scene sceneID="ufC-wZ-h7g">
            <objects>
                <viewController id="vXZ-lx-hvc" customClass="ViewController" sceneMemberID="viewController">
                    <layoutGuides>
                        <viewControllerLayoutGuide type="top" id="jyV-Pf-zRb"/>
                        <viewControllerLayoutGuide type="bottom" id="2fi-mo-0CV"/>
                    </layoutGuides>
                    <view key="view" opaque="NO" contentMode="scaleToFill" id="kh9-bI-dsS" userLabel="MainView">
                        <rect key="frame" x="0.0" y="0.0" width="320" height="568"/>
                        <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                        <subviews>
                            <view opaque="NO" contentMode="scaleToFill" fixedFrame="YES" translatesAutoresizingMaskIntoConstraints="NO" id="5gN-Jv-UGz">
                                <rect key="frame" x="0.0" y="1" width="320" height="567"/>
                                <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                                <subviews>
                                    <view alpha="0.5" contentMode="scaleToFill" fixedFrame="YES" translatesAutoresizingMaskIntoConstraints="NO" id="P6r-UW-WQw">
                                        <rect key="frame" x="0.0" y="407" width="320" height="160"/>
                                        <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                                        <color key="backgroundColor" white="0.0" alpha="1" colorSpace="calibratedWhite"/>
                                        <color key="tintColor" white="0.0" alpha="1" colorSpace="calibratedWhite"/>
                                    </view>
                                    <label opaque="NO" clipsSubviews="YES" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" fixedFrame="YES" text="YourTempo" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="fd8-FE-HFu">
                                        <rect key="frame" x="89" y="40" width="142" height="30"/>
                                        <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                                        <fontDescription key="fontDescription" type="system" pointSize="26"/>
                                        <color key="textColor" white="1" alpha="1" colorSpace="custom" customColorSpace="calibratedWhite"/>
                                        <nil key="highlightedColor"/>
                                    </label>
                                    <button opaque="NO" contentMode="scaleToFill" fixedFrame="YES" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="infoDark" showsTouchWhenHighlighted="YES" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="80F-ph-eeB">
                                        <rect key="frame" x="278" y="525" width="22" height="22"/>
                                        <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                                        <state key="normal">
                                            <color key="titleColor" white="1" alpha="1" colorSpace="custom" customColorSpace="calibratedWhite"/>
                                            <color key="titleShadowColor" white="0.5" alpha="1" colorSpace="calibratedWhite"/>
                                        </state>
                                        <connections>
                                            <segue destination="yaq-PT-db9" kind="modal" id="GjT-go-PW9"/>
                                        </connections>
                                    </button>
                                    <toolbar opaque="NO" clearsContextBeforeDrawing="NO" contentMode="scaleToFill" fixedFrame="YES" barStyle="black" translatesAutoresizingMaskIntoConstraints="NO" id="gpz-SD-qt9" userLabel="buttonbar">
                                        <rect key="frame" x="0.0" y="470" width="320" height="44"/>
                                        <autoresizingMask key="autoresizingMask" widthSizable="YES" flexibleMinY="YES"/>
                                        <items>
                                            <barButtonItem width="64" style="plain" systemItem="fixedSpace" id="p8Z-zb-IYP"/>
                                            <barButtonItem systemItem="rewind" id="haU-ch-9DD" userLabel="prevbutton">
                                                <color key="tintColor" white="1" alpha="1" colorSpace="custom" customColorSpace="calibratedWhite"/>
                                                <connections>
                                                    <action selector="prevButtonPressed:" destination="vXZ-lx-hvc" id="wv8-zx-9ew"/>
                                                </connections>
                                            </barButtonItem>
                                            <barButtonItem style="plain" systemItem="flexibleSpace" id="v8w-Sb-9xL"/>
                                            <barButtonItem systemItem="pause" id="5P4-sh-2gd" userLabel="pausebutton">
                                                <color key="tintColor" white="1" alpha="1" colorSpace="custom" customColorSpace="calibratedWhite"/>
                                                <connections>
                                                    <action selector="playPauseButtonPressed:" destination="vXZ-lx-hvc" id="rt7-gh-pfO"/>
                                                </connections>
                                            </barButtonItem>
                                            <barButtonItem style="plain" systemItem="flexibleSpace" id="Lqy-oM-U9D"/>
                                            <barButtonItem systemItem="fastForward" id="tbo-xy-chY" userLabel="nextbutton">
                                                <color key="tintColor" white="1" alpha="1" colorSpace="custom" customColorSpace="calibratedWhite"/>
                                                <connections>
                                                    <action selector="nextButtonPressed:" destination="vXZ-lx-hvc" id="pVQ-SE-BMm"/>
                                                </connections>
                                            </barButtonItem>
                                            <barButtonItem width="64" style="plain" systemItem="fixedSpace" id="FzE-rO-vpx"/>
                                        </items>
                                        <color key="tintColor" white="0.0" alpha="0.0" colorSpace="calibratedWhite"/>
                                    </toolbar>
                                    <slider opaque="NO" contentMode="scaleToFill" fixedFrame="YES" contentHorizontalAlignment="center" contentVerticalAlignment="center" value="0.5" minValue="0.0" maxValue="1" translatesAutoresizingMaskIntoConstraints="NO" id="EXl-ph-LO0" userLabel="temposlider">
                                        <rect key="frame" x="18" y="108" width="284" height="31"/>
                                        <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                                        <color key="minimumTrackTintColor" white="0.66666666666666663" alpha="1" colorSpace="calibratedWhite"/>
                                        <color key="maximumTrackTintColor" white="1" alpha="1" colorSpace="custom" customColorSpace="calibratedWhite"/>
                                        <connections>
                                            <action selector="tempoSliderChanged:" destination="vXZ-lx-hvc" eventType="valueChanged" id="7ow-Il-2FT"/>
                                        </connections>
                                    </slider>
                                    <label opaque="NO" clipsSubviews="YES" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" fixedFrame="YES" text="nan bpm" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="roi-6S-GzW" userLabel="bpmlabel">
                                        <rect key="frame" x="20" y="78" width="280" height="22"/>
                                        <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                                        <fontDescription key="fontDescription" type="system" pointSize="18"/>
                                        <color key="textColor" white="1" alpha="1" colorSpace="custom" customColorSpace="calibratedWhite"/>
                                        <nil key="highlightedColor"/>
                                    </label>
                                    <label opaque="NO" clipsSubviews="YES" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" fixedFrame="YES" text="no song playing" textAlignment="center" lineBreakMode="tailTruncation" numberOfLines="2" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" preferredMaxLayoutWidth="280" translatesAutoresizingMaskIntoConstraints="NO" id="kkj-vu-5PD" userLabel="nowplaying">
                                        <rect key="frame" x="20" y="407" width="280" height="53"/>
                                        <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                                        <fontDescription key="fontDescription" type="system" pointSize="16"/>
                                        <color key="textColor" white="1" alpha="1" colorSpace="custom" customColorSpace="calibratedWhite"/>
                                        <nil key="highlightedColor"/>
                                    </label>
                                </subviews>
                            </view>
                        </subviews>
                    </view>
                    <toolbarItems/>
                    <simulatedToolbarMetrics key="simulatedBottomBarMetrics"/>
                    <connections>
                        <outlet property="bottomBar" destination="gpz-SD-qt9" id="4vx-cH-2I9"/>
                        <outlet property="bpmLabel" destination="roi-6S-GzW" id="Loh-0g-ZSa"/>
                        <outlet property="mainView" destination="kh9-bI-dsS" id="Xsv-2z-xDF"/>
                        <outlet property="songLabel" destination="kkj-vu-5PD" id="zEQ-c3-saD"/>
                        <outlet property="tempoSlider" destination="EXl-ph-LO0" id="6cE-4d-Gqh"/>
                    </connections>
                </viewController>
                <placeholder placeholderIdentifier="IBFirstResponder" id="x5A-6p-PRh" sceneMemberID="firstResponder"/>
            </objects>
        </scene>
        <!--View Controller - AboutModal-->
        <scene sceneID="jJk-Z0-H6f">
            <objects>
                <viewController title="AboutModal" id="yaq-PT-db9" sceneMemberID="viewController">
                    <layoutGuides>
                        <viewControllerLayoutGuide type="top" id="t0M-5J-Vaw"/>
                        <viewControllerLayoutGuide type="bottom" id="3kq-wA-hOw"/>
                    </layoutGuides>
                    <view key="view" contentMode="scaleToFill" id="HNg-iJ-dzl">
                        <rect key="frame" x="0.0" y="0.0" width="320" height="568"/>
                        <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
                        <subviews>
                            <navigationBar contentMode="scaleToFill" fixedFrame="YES" barStyle="black" translatesAutoresizingMaskIntoConstraints="NO" id="Njr-mF-QVd">
                                <rect key="frame" x="0.0" y="20" width="320" height="44"/>
                                <autoresizingMask key="autoresizingMask" widthSizable="YES" flexibleMaxY="YES"/>
                                <items>
                                    <navigationItem title="About YourTempo" id="kNh-pm-yEU">
                                        <barButtonItem key="rightBarButtonItem" systemItem="done" id="Uyt-Pt-Fov">
                                            <connections>
                                                <segue destination="tD3-f5-5gF" kind="unwind" unwindAction="dismissAboutModal:" id="QdU-ex-vnD"/>
                                            </connections>
                                        </barButtonItem>
                                    </navigationItem>
                                </items>
                            </navigationBar>
                            <textView clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="scaleToFill" fixedFrame="YES" directionalLockEnabled="YES" alwaysBounceVertical="YES" showsHorizontalScrollIndicator="NO" editable="NO" selectable="NO" translatesAutoresizingMaskIntoConstraints="NO" id="0a7-Ug-Tup">
                                <rect key="frame" x="20" y="64" width="280" height="484"/>
                                <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                                <mutableString key="text">YourTempo adjusts the playback speed of the song you're listening to be perfectly in-sync with your footsteps.

Created by Dave Cummings
Carnegie Mellon University
david.h.cummings@me.com

YourTempo requires the M7 coprocessor, which is only supported on iPhone 5s, iPad Air, and iPad Mini with Retina Display.

YourTempo is best used on long walks outdoors on a flat surface. Try to keep your pace consistent.

Your pace is computed from a running average of the time between the steps you take, given by CMStepCounter. CMStepCounter has a granualrity of about 2.5 seconds, so it may take up to 20 seconds to lock on to your pace.

Songs are played back through AVAudioPlayer. You may notice scratchiness or distortion, particularly of instrumentals. AVAudioPlayer's support for adjusted playback rate is omptimized for spoken word. So, unfortunately, the distortion is here to stay until Apple updates AVAudioPlayer's playback tempo algorithms.

To be able to adjust playback speed by a scalar, I had to precompute (using Capo) the tempo of a handful of arbitrarily chosen songs. Future versions of this app may allow you to choose songs from your Music library and compute their tempos on the fly.

Songs included in this app are intended for academic purposes only. All rights are reserved by their respective copyright holders.

VizualizerView based on a tutorial by Xinrong Guo ("How To Make a Music Visualizer in iOS") and MeterTable is provided by Apple Inc.

App icon includes an image sourced from "Metronome" by Philip Hogeboom from The Noun Project.</mutableString>
                                <color key="textColor" white="1" alpha="1" colorSpace="custom" customColorSpace="calibratedWhite"/>
                                <fontDescription key="fontDescription" type="system" pointSize="14"/>
                                <textInputTraits key="textInputTraits" autocapitalizationType="sentences" autocorrectionType="no"/>
                            </textView>
                        </subviews>
                        <color key="backgroundColor" white="0.0" alpha="1" colorSpace="calibratedWhite"/>
                    </view>
                </viewController>
                <placeholder placeholderIdentifier="IBFirstResponder" id="Bmw-Ig-Bfj" userLabel="First Responder" sceneMemberID="firstResponder"/>
                <exit id="tD3-f5-5gF" userLabel="Exit" sceneMemberID="exit"/>
            </objects>
            <point key="canvasLocation" x="611" y="-43"/>
        </scene>
    </scenes>
    <simulatedMetricsContainer key="defaultSimulatedMetrics">
        <simulatedStatusBarMetrics key="statusBar"/>
        <simulatedOrientationMetrics key="orientation"/>
        <simulatedScreenMetrics key="destination" type="retina4"/>
    </simulatedMetricsContainer>
</document>
